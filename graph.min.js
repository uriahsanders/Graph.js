"use strict";var Graph=Graph||function(a){var b={};b.count=0;var c=function(a){0!==a&&(b.setOptions.call(this,a),++b.count)};return b.defaults=function(){return{x:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],y:10,attachTo:"body",points:[0,26,33,74,12,49,18]}},b.basics=function(c,d,e,f){c=e||c||300,d=f||d||550,c=c.toString(),d=d.toString(),b.attachTo=b.attachTo||"body";var g=a(b.attachTo).css("height"),h=a(b.attachTo).css("width");return c="%"===c.substring(c.length-1)?g:c,d="%"===d.substring(d.length-1)?h:d,{Gheight:parseFloat(c),Gwidth:parseFloat(d),xDist:60,yDist:30,scale:10,xOffset:25,yOffset:20,yStart:0,mainOffset:35,padding:10,xOfPoints:[],yOfPoints:[],mxOfPoints:[],myOfPoints:[],multipleDataSets:!1,legend:!1,interactive:!0,animations:!1,barAnimationDuration:1,grid:!0,xGrid:!0,yGrid:!0,xName:null,yName:null,special:null,showPoints:!0,noLines:!1,pointRadius:5,averagePointRadius:5,pieSize:200,tooltipWidth:50,pieLegend:!0,rx:10,before:"",after:"",title:"",id:"SVGGraph"+b.count}},b.parseS=function(a,b){return'svg[id="'+a+'"] '+b},b.id2selector=function(a){var b=a.split(" ");a=b[0];var c='svg[id="';if("#"!==a.charAt(0))return a;c+=a.substring(1)+'"]';for(var d=1,e=b.length;e>d;++d)c+=" "+b[d];return c},b.design=function(a){a.byCSS=a.byCSS||{},a.design=a.design||{};var b="bar"===a.type?"start":"middle",c=a.height||"100%",d=a.width||"100%",e=a.design,f={};f.style={},f.style[this.parseS(a.id,"")]={height:c,width:d},f.style[this.parseS(a.id,".grid")]={stroke:e.gridColor||"#000","stroke-width":e.gridWidth||"1"},f.style[this.parseS(a.id,".points")]={cursor:"pointer"},f.style[this.parseS(a.id,'circle:not(".middle"):not(".pie-tooltip")')]={opacity:.8},f.style[this.parseS(a.id,".inset")]={fill:e.pointColor||"lightblue"},f.style[this.parseS(a.id,".labels")]={fill:e.labelColor||"#000",stroke:e.labelStroke||"none","font-family":e.labelFont||"Arial","font-size":e.labelFontSize||"13px",kerning:e.labelKerning||"2"},f.style[this.parseS(a.id,".lines")]={stroke:e.lineColor||"darkgrey","stroke-width":e.lineWidth||"2"},f.style[this.parseS(a.id,".averageLine")]={stroke:e.averageLineColor||"green","stroke-width":e.lineWidth||"2"},f.style[this.parseS(a.id,".line-of-1")]={stroke:e.lineColor||"green","stroke-width":e.lineWidth||"2"},f.style[this.parseS(a.id,".rect")]={stroke:e.borderColor||"#fff","stroke-width":e.borderWidth||"2",fill:e.barColor||"blue",opacity:.8},f.style[this.parseS(a.id,".bar")]={stroke:e.barBorder||"#fff",opacity:.8},f.style[this.parseS(a.id,".SVG-tooltip")]={fill:e.tooltipColor||"#000","font-family":e.tooltipFont||"Arial","font-size":e.tooltipFontSize||"13px",display:"none",opacity:"1"},f.style[this.parseS(a.id,".SVG-tooltip-box")]={display:"none",fill:e.tooltipBoxColor||"none",stroke:e.borderColor||"none","stroke-width":e.borderWidth||"2"},f.style[this.parseS(a.id,".area")]={fill:e.areaColor||"none",opacity:.8},f.style[this.parseS(a.id,".middle")]={fill:e.donutCenterColor||"#fff"},f.style[this.parseS(a.id,".slice")]={stroke:e.borderColor||"grey","stroke-width":e.borderWidth||"2",opacity:"0.8"},f.style[this.parseS(a.id,".labels.x-labels")]={"text-anchor":e.xLabelAnchor||b},f.style[this.parseS(a.id,".labels.y-labels")]={"text-anchor":e.yLabelAnchor||"end"},f.style['table[id="'+a.id+'"]']={height:c,width:d,"border-collapse":"collapse","text-align":"center"};var g=a.colors||["red","blue","green","orange","purple","yellow","brown","gold","black","grey"];g.push("");for(var h=0,i=g.length;i>h;++h)f.style[this.parseS(a.id,".line-of-"+h)]={stroke:e.lineColor||g[h],"stroke-width":e.lineWidth||"2"},f.style[this.parseS(a.id,".path-of-"+h)]={fill:g[h],opacity:.8},f.style[this.parseS(a.id,".rect-of-"+h)]={fill:g[h]},f.style[this.parseS(a.id,".point-of-"+h)]={fill:g[h]};for(var j in a.byCSS)f.style[this.id2selector(j)]=a.byCSS[j];return f},b.setOptions=function(c){c=c||{},c.points&&a.isArray(c.points[0])&&(c.multipleDataSets=!0),c.attachTo&&(c.attachTo="#"===c.attachTo.charAt(0)?c.attachTo:"#"+c.attachTo,b.attachTo=c.attachTo),c.id&&(c.id="#"===c.id.charAt(0)?c.id.substring(1):c.id),(c.basic===!0||"undefined"==typeof c.basic)&&(this.obj=b.basics(c.height,c.width,c.graphHeight,c.graphWidth)),c&&c.example===!0||!a.isEmptyObject(c)?(c.id=c.id||this.obj.id,a.extend(this.obj,b.defaults(),c,b.design(c)),this.obj.addStyle=!0):c&&c.addStyle===!0?a.extend(this.obj,b.design(c),c):c&&(this.obj=c),this.obj.numPoints=this.obj.points.length,this.obj.xLength=this.obj.x.length},c.prototype.save=function(){return JSON.stringify(this.obj)},c.prototype.genToFunc=function(a){return a="area"===a?"linear":"combo"===a?"bar":"donut"===a?"pie":a,"Graph"+a.charAt(0).toUpperCase()+a.substring(1)},c.prototype.expand=function(a,b){a="string"==typeof a?jQuery.parseJSON(a):a;var c=new(window[this.genToFunc(this.obj.type)])(a);b=b||"",c.init(b)},c.prototype.update=function(a){a=a||{},a.byCSS=this.obj.byCSS,this.expand(a,"update")},c.prototype.to=function(a,b){var c=b||this.obj;this.obj.type=a,c.type=a,this.expand(c,"update")},c.prototype.createGrid=function(a,b){var c=this.obj,d="",e="",f=c.yDist-30;if(c.grid&&!c.noLines){var h,g=c.height-b*c.yDist;if(c.xGrid)for(var i=0;a>i;++i)h=i*c.xDist+c.mainOffset,d+='<line x1="'+h+'" x2="'+h+'" y1="'+(c.height-c.yOffset-c.padding-f)+'" y2="'+g+'"></line>';var j=(a-1)*c.xDist+c.mainOffset;if(c.yGrid)for(var i=1;b>=i;++i)h=c.height-i*c.yDist,e+='<line x1="'+c.mainOffset+'" x2="'+j+'" y1="'+h+'" y2="'+h+'"></line>'}else c.noLines===!1&&(d+='<line x1="'+c.mainOffset+'" x2="'+c.mainOffset+'" y1="'+(c.height-c.yOffset-c.padding-f)+'" y2="'+(c.height-b*c.yDist)+'"></line>',e+='<line x1="'+c.mainOffset+'" x2="'+((a-1)*c.xDist+c.mainOffset)+'" y1="'+(c.height-c.yDist)+'" y2="'+(c.height-c.yDist)+'"></line>');return{xGrid:d,yGrid:e}},c.prototype.applyStyling=function(){var b=this.obj;if(b.addStyle)for(var c in b.style)a(c).css(b.style[c])},c.prototype.openTags=function(){return{SVG:'<svg id="'+this.obj.id+'"class="graph"style="'+(this.obj.css||"")+'">',xGrid:'<g class="grid x-grid" id="xGrid">',yGrid:'<g class="grid y-grid" id="yGrid">',xLabels:'<g class="labels x-labels">',yLabels:'<g class="labels y-labels">',title:'<g class="labels title">'}},c.prototype.addLabels=function(){for(var a=this.obj,b="",c="",d=0,e=a.xLength;e>d;++d)b+='<text x="'+(d*a.xDist+a.mainOffset)+'" y="'+(a.height-a.padding)+'">'+a.x[d]+"</text>";for(var d=1,e=a.y+1;e>=d;++d){var f=d*a.scale-a.scale+a.yStart,g=f>=10?a.xOffset:a.xOffset-10;c+='<text x="'+g+'" y="'+(a.height-(a.yDist*d-a.padding)-5)+'">'+f+"</text>"}return{xLabels:b,yLabels:c}},c.prototype.addTitle=function(a){var b=this.obj;return'<text x="'+b.mainOffset+'" y="'+(b.height-a*b.yDist-b.yOffset)+'"font-weight="bold">'+b.title+"</text>"},c.prototype.finishGraph=function(a,b,c,d){var e=this.obj;"pie"!==e.type&&(c.xGrid+=this.createGrid(a,b).xGrid,c.yGrid+=this.createGrid(a,b).yGrid,c.xLabels+=this.addLabels().xLabels,c.yLabels+=this.addLabels().yLabels),c.title+=this.addTitle(b),(e.legend&&e.pieLegend||"pie"===e.type)&&(c.legend=this.addLegend(d)),c.points=c.points||"";for(var f in c)c[f]!==c.points&&c[f]!==c.tooltips&&"SVG"!==f&&(c.SVG+=c[f]+"</g>");c.SVG+=c.points+c.tooltips+"</svg>";var g=e.before+c.SVG+e.after;return this.handleAppend(d,g),this.applyStyling(),c.SVG},c.prototype.handleAppend=function(b,c){"update"===b?a("#"+this.obj.id).replaceWith(c):a(this.obj.attachTo).append(c)},c.prototype.addLegend=function(){var b=this.obj,c=function(b){var c="add"===b?1:.8,d=a(this).attr("class").substring(7),e='[class*="'+d+'"][id^="'+a(this).attr("id").split("-")[1]+'"]';a("line"+e+", rect"+e+", path"+e).each(function(){a(this).css("opacity",c)})};b.interactive&&b.multipleDataSets&&(a(document).on("mouseover",'g[id^="legend-"]',function(){c.call(this,"add")}),a(document).on("mouseout",'g[id^="legend-"]',function(){c.call(this,"take")}));var d='<g class="legend">',e=b.legendX||b.Gwidth-b.xDist,f=30,g=30,h=b.yOffset;if(b.dataNames=b.dataNames||[],b.multipleDataSets||"pie"===b.type)for(var i=0,j=b.numPoints;j>i;++i)d+='<g id="legend-'+b.id+'"class="legend-of-'+i+'">',d+='<rect class="rect-of-'+i+'"x="'+e+'" y="'+h+'"width="'+f+'"height="'+g+'"></rect>',d+='<text style="cursor:default;"class="legend-of-'+i+'"x="'+(e+f+5)+'"y="'+(h+g/2)+'">'+(b.dataNames[i]||"Data"+(0===i?"":" "+i))+"</text>",h+=b.yDist+b.padding;else for(var i=0,j=b.xLength;j>i;++i)d+='<g id="legend-'+b.id+'">',d+='<text style="cursor:default;"x="'+1.5*e+'"y="'+(h+g/2)+'">'+(b.x[i]+" : "+b.points[i])+"</text>",h+=b.yDist+b.padding;return"combo"===b.special&&(d+='<g id="legend-avg-'+b.id+'">',d+='<rect fill="'+(b.averageLineColor||"green")+'"class="averageLine"x="'+e+'" y="'+h+'"width="'+f+'"height="'+g+'"></rect>',d+='<text style="cursor:default;"x="'+(e+f+5)+'"y="'+(h+g/2)+'">'+"Average"+"</text>"),d+="</g>"},c}(jQuery),GraphLinear=GraphLinear||function(a){var b=function(b){b=b||{},b.type="linear",Graph.call(this,b);var c=function(c){var d=a(this).attr("id"),e=d.split("-"),f=e[0],g=e[1],h=this;a('svg line[id^="'+f+'"], svg path[id^="'+f+'"]').each(function(){if(a(this).attr("id").split("-")[1]===g){var d="#"+a(h).attr("class").split(" ")[0]+"-tooltip",e="#"+a(h).attr("class").split(" ")[0]+"-tooltip-rect";"add"===c?(a(this).css("stroke-width",b.lineWidth||3),a(this).css("opacity",1),a(d).show(),a(e).show()):(a(this).css("stroke-width",b.lineWidth-1||2),a(this).css("opacity",.8),a(d).hide(),a(e).hide())}})};if(this.obj.interactive){var d=this;a(document).on("mouseover",'svg circle[id$="point"]',function(){c.call(this,"add"),a(this).css("opacity",1)}),a(document).on("mouseleave",'svg circle[id$="point"]',function(){c.call(this,"sub"),a(this).css("opacity",d.obj.style['svg[id="'+d.obj.id+'"] circle'].opacity||.8)})}};return b.prototype=Object.create(Graph.prototype),b.prototype.constructor=b,b.prototype.buildPoints=function(a,b){var c,d,f,g,h,i,j,k,l=b?this.obj.averagePointRadius:this.obj.pointRadius,m=this.obj,n=b||m.points;return 1===a.length?(f=n[a[0]],g=a[0],k=a[0],i=!1):2===a.length&&(f=n[a[0]][a[1]],g=""+a[0]+a[1],k=a[1],i=!0),c=m.height-(f+m.scale)*(m.yDist/m.scale),d=k*m.xDist+m.mainOffset,b&&(d+=m.xDist/(m.points.length+1)),j=i===!1?0:a[0],h='<circle id="'+m.id+"-"+j+'-point"class="'+m.id+"-point"+g+" "+(m.multipleDataSets&&!b?"point-of-"+a[0]+" ":"")+'"cx="'+d+'" cy="'+c+'" r="'+l+'"></circle>',h+='<g><rect class="'+(m.multipleDataSets&&!b?"rect-of-"+a[0]+" ":"")+'SVG-tooltip-box"id="'+m.id+"-point"+g+'-tooltip-rect"rx="'+m.rx+'"x="'+(d-2*m.padding-m.tooltipWidth/2)+'"y="'+(c-m.yDist-2*m.padding)+'"height="'+(m.yDist+m.padding/2)+'"width="'+(50+m.tooltipWidth)+'"/>',h+='<text class="SVG-tooltip"id="'+m.id+"-point"+g+'-tooltip" x="'+(d-m.padding)+'" y="'+(c-m.yDist)+'">'+f+"</text></g>"},b.prototype.animateLines=function(){for(var d,b=this.obj,c=a("path[id^="+b.id+"]"),e=0,f=a("path[id^="+b.id+"]").length;f>e;++e)d=c[e].getTotalLength(),c[e].style.transition=c[e].style.WebkitTransition="none",c[e].style.strokeDasharray=d+" "+d,c[e].style.strokeDashoffset=d,c[e].getBoundingClientRect(),c[e].style.transition=c[e].style.WebkitTransition="stroke-dashoffset 2s ease-in-out",c[e].style.strokeDashoffset="0"},b.prototype.init=function(a){var b=this.obj;b.width=b.Gwidth,b.height=b.Gheight;var c=this.openTags();d||(c.lines='<g class="lines">'),c.points='<g class="inset points">';var d="area"===b.special;d&&!b.multipleDataSets&&(c.path='<g class="area"><path id="'+b.id+'-0-path"d="');var h,i,j,e=b.x.length,f=b.y+1,g=b.height-b.yDist;if(b.multipleDataSets){for(var k=0,l=b.numPoints;l>k;++k)b.mxOfPoints.push([]),b.myOfPoints.push([]);var m=[];c.path='<g class="area">';for(var k=0,l=b.numPoints;l>k;++k){for(var n=0,o=b.points[k].length;o>n;++n)h=b.height-(b.points[k][n]+b.scale)*(b.yDist/b.scale),i=n*b.xDist+b.mainOffset,b.showPoints===!0&&(c.points+=this.buildPoints([k,n])),b.mxOfPoints[k].push(i),b.myOfPoints[k].push(h);if(d){for(var n=0,o=b.points[k].length-1;o>n;++n)j=n+1,c.lines+='<line id="'+b.id+"-"+k+'-line" class="line-of-'+k+'" x1="'+b.mxOfPoints[k][n]+'" x2="'+b.mxOfPoints[k][j]+'" y1="'+b.myOfPoints[k][n]+'" y2="'+b.myOfPoints[k][j]+'"></line>';m.push('<path id="'+b.id+"-"+k+'-path"class="path-of-'+k+'" d="'),m[k]+="M"+b.mxOfPoints[k][0]+","+g+" ",m[k]+="L"+b.mxOfPoints[k][0]+","+b.myOfPoints[k][0]+" ";for(var n=0,o=b.points[k].length;o>n;++n)m[k]+="L"+b.mxOfPoints[k][n]+","+b.myOfPoints[k][n]+" ";m[k]+="L"+b.mxOfPoints[k][b.mxOfPoints[k].length-1]+","+g+' Z"></path>'}else{m.push('<path fill="none"id="'+b.id+"-"+k+'-path"class="line-of-'+k+'" d="'),m[k]+="M"+b.mxOfPoints[k][0]+","+b.myOfPoints[k][0]+" ";for(var n=0,o=b.points[k].length;o>n;++n)m[k]+="L"+b.mxOfPoints[k][n]+","+b.myOfPoints[k][n];m[k]+='"></path>'}}c.path+=m.join("")}else{for(var k=0;e>k;++k)h=b.height-(b.points[k]+b.scale)*(b.yDist/b.scale),i=k*b.xDist+b.mainOffset,b.showPoints===!0&&(c.points+=this.buildPoints([k])),b.xOfPoints.push(i),b.yOfPoints.push(h);if(d){for(var k=0,l=b.numPoints-1;l>k;++k)j=k+1,c.lines+='<line x1="'+b.xOfPoints[k]+'" x2="'+b.xOfPoints[j]+'" y1="'+b.yOfPoints[k]+'" y2="'+b.yOfPoints[j]+'"></line>';c.path+="M"+b.xOfPoints[0]+","+g+" ",c.path+="L"+b.xOfPoints[0]+","+b.yOfPoints[0]+" ";for(var k=1;k<b.xOfPoints.length;++k)c.path+="L"+b.xOfPoints[k]+","+b.yOfPoints[k]+" ";c.path+="L"+b.xOfPoints[b.xOfPoints.length-1]+","+g+' Z"></path>'}else for(var k=0,l=b.numPoints-1;l>k;++k){c.lines+='<path fill="none"id="'+b.id+'-0-path"d="',c.lines+="M"+b.xOfPoints[0]+","+b.yOfPoints[0]+" ";for(var k=1;k<b.xOfPoints.length;++k)c.lines+="L"+b.xOfPoints[k]+","+b.yOfPoints[k];c.lines+='"</path>'}}this.finishGraph(e,f,c,a),d||this.animateLines()},b}(jQuery),GraphBar=GraphBar||function(a){var b={},c=function(b){if(b=b||{},b.type="bar",Graph.call(this,b),this.obj.interactive){var c=this;a(document).on("mouseover","svg rect",function(){a("#"+a(this).attr("id")+"-tooltip").show(),a("#"+a(this).attr("id")+"-tooltip-rect").show(),a(this).css("opacity",1)}),a(document).on("mouseleave","svg rect",function(){a("#"+a(this).attr("id")+"-tooltip").hide(),a("#"+a(this).attr("id")+"-tooltip-rect").hide(),a(this).css("opacity",c.obj.style['svg[id="'+c.obj.id+'"] .rect'].opacity||.8)})}};return c.prototype=Object.create(Graph.prototype),c.prototype.constructor=c,b.getAveragePoints=function(a){for(var c,b=[],d=0,e=0,f=a[0].length;f>e;++e){c=0;for(var g=0,h=a.length;h>g;++g)c+=a[g][d];b.push(c/h),++d}return b},c.prototype.init=function(a){var c=this.obj;c.width=c.Gwidth,c.height=c.Gheight;var d=c.x.length+1,e=c.y+1,f=this.openTags();f.rects='<g class="rects"transform="translate(0, 40) scale(1, -1)">',f.tooltips="<g>";var g,h,i,j;if(j=c.yDist-30,c.multipleDataSets){for(var m=[],k=0,l=c.points[0].length;l>k;++k)m.push(0);c.points.push(m);var r,s,n=c.points.length,o=c.points[0].length,p=n-1,q=c.xDist/n,t=function(a){for(var b=0,d=0;o>d;++d){for(var e=0,k=n;k>e;++e)e!==p&&(r=e+b+d*p,s=e+b+2*d,g=0!==c.points[e][b]?(c.points[e][b]+c.scale)*(c.yDist/c.scale)-c.yDist:2,h=r*q+c.mainOffset,i=c.height-c.padding-c.yOffset-g,0===a?f.rects+='<rect class="rect-of-'+e+' bar"id="'+c.id+"-point-"+s+'" x="'+h+'" y="'+(-c.height+c.yDist+c.mainOffset+c.padding/2)+'" width="'+q+'"height="'+g+'"'+(c.animations===!0?'><animate attributeName="height" from="0" to="'+g+'" dur="'+c.barAnimationDuration+'s" fill="freeze"></animate></rect>':"/>"):1===a&&(f.tooltips+='<g><rect class="rect-of-'+e+' SVG-tooltip-box "id="'+c.id+"-point-"+s+'-tooltip-rect"rx="'+c.rx+'"x="'+(h-c.tooltipWidth/2)+'"y="'+(i-j-c.yDist-2*c.padding)+'"height="'+(c.yDist+c.padding/2+10)+'"width="'+(q+c.tooltipWidth)+'"/>',f.tooltips+='<text class="SVG-tooltip"id="'+c.id+"-point-"+s+'-tooltip" x="'+(h+q/2-c.padding)+'" y="'+(i-j-c.yDist/2-c.padding)+'">'+c.points[e][b]+"</text></g>"));c.xOfPoints.length<o&&c.xOfPoints.push(h),++b}};if(t(0),t(1),c.points.pop(),"combo"===c.special){var u=b.getAveragePoints(c.points),v=new GraphLinear(c);f.lines='<g class="lines">',f.points='<g class="inset points">';for(var k=0,l=d-1;l>k;++k)g=c.height-(u[k]+c.scale)*(c.yDist/c.scale),h=k*c.xDist+c.mainOffset,c.showPoints===!0&&(f.points+=v.buildPoints([k],u)),c.yOfPoints.push(g);for(var k=0,l=u.length-1;l>k;++k){f.lines+='<path class="averageLine"fill="none"id="'+c.id+'-0-path"d="',f.lines+="M"+c.xOfPoints[0]+","+c.yOfPoints[0]+" ";for(var k=1;k<c.xOfPoints.length;++k)f.lines+="L"+c.xOfPoints[k]+","+c.yOfPoints[k];f.lines+='"</path>'}}}else{for(var k=0,l=d-1;l>k;++k)g=0!==c.points[k]?(c.points[k]+c.scale)*(c.yDist/c.scale)-c.yDist:2,h=k*c.xDist+c.mainOffset,f.rects+='<rect class="rect bar"id="'+c.id+"-point-"+k+'" x="'+h+'" y="'+(-c.height+c.yDist+c.mainOffset+c.padding/2)+'" width="'+c.xDist+'"height="'+g+'"'+(c.animations===!0?'><animate attributeName="height" from="0" to="'+g+'" dur="'+c.barAnimationDuration+'s" fill="freeze"></animate></rect>':"/>");for(var k=0,l=d-1;l>k;++k)g=0!==c.points[k]?(c.points[k]+c.scale)*(c.yDist/c.scale)-c.yDist:2,h=k*c.xDist+c.mainOffset,i=c.height-c.padding-c.yOffset-g,f.tooltips+='<rect class="SVG-tooltip-box"id="'+c.id+"-point-"+k+'-tooltip-rect"rx="'+c.rx+'"x="'+(h+c.padding/2-c.tooltipWidth/2)+'"y="'+(i-j-c.yDist-2*c.padding)+'"height="'+(c.yDist+c.padding/2)+'"width="'+(c.xDist-c.padding+c.tooltipWidth)+'"/>',f.tooltips+='<text class="SVG-tooltip"id="'+c.id+"-point-"+k+'-tooltip" x="'+(h+c.xDist/2-c.padding)+'" y="'+(i-j-c.yDist/2-c.padding)+'">'+c.points[k]+"</text>"}this.finishGraph(d,e,f,a),v.animateLines()},c}(jQuery),GraphTable=GraphTable||function(){var a=function(a){a=a||{},a.type="table",Graph.call(this,a)};return a.prototype=Object.create(Graph.prototype),a.prototype.constructor=a,a.prototype.init=function(a){var b=this.obj,c="<th>"+(b.dataNames?b.dataNames[0]:"Data")+"</th>",d="<tr>";if(b.multipleDataSets)for(var g,e=0,f=b.xLength;f>e;++e){e<b.numPoints-1&&(c+="<th>"+b.dataNames[e+1]+"</th>"),g="";for(var h=0,i=b.numPoints;i>h;++h)g+="<td>"+b.points[h][e]+"</td>";d+="<td>"+e+"</td><td>"+b.x[e]+"</td>"+g+"</tr><tr>"}else for(var e=0,f=b.xLength;f>e;++e)d+="<td>"+e+"</td><td>"+b.x[e]+"</td><td>"+b.points[e]+"</td></tr><tr>";var j='<table class="SVG-table"id="'+b.id+'" border="1"cellpadding="5"><tr><th>#</th><th>'+(b.xName||"X")+"</th>"+c+"</tr>";j+=d+"</tr>",this.handleAppend(a,j),this.applyStyling()},a}(),GraphPie=GraphPie||function(a){var b={},c=function(b){if(b=b||{},b.type="pie",Graph.call(this,b),this.obj.interactive){var c=this.obj;a(document).on("mouseover",'svg path[id^="'+c.id+'"].slice',function(){a("#"+c.id+" .SVG-tooltip").hide(),a("#"+c.id+" .SVG-tooltip-title").hide(),a("#"+a(this).attr("id")+"-tooltip").show(),a("#"+a(this).attr("id")+"-tooltip-title").show(),a('svg path[id^="'+c.id+'"].slice').css("opacity",.8),a('svg path[id^="'+c.id+'"].slice').css("stroke",self.borderColor||"grey"),a(this).css("opacity",1),a(this).css("stroke","#000")}),a(document).on("mouseleave",'svg path[id^="'+c.id+'"].slice',function(){})}};return c.prototype=Object.create(Graph.prototype),c.prototype.constructor=c,b.lineTo=function(a,b){return"L"+a+","+b},b.percent=function(a){return Math.round(100*a)+"%"},c.prototype.init=function(c){if(!this.obj.multipleDataSets){var d=this.obj,e=this.openTags();e.pie='<g class="paths">';var l,m,q,r,s,f=0,g=d.pieSize||200,h=g-20,i="M"+g+","+g,j="A"+h+","+h,k="0 0,1",n=20,o=b.lineTo(n,g),p=0;d.dataNames=d.x.slice(0);var t=g-g/4;d.shadow&&"donut"!==d.special&&(e.pie+='<defs><filter id="dropshadow" width="120%" height="120%"><feGaussianBlur stdDeviation="4"/></filter></defs><circle cx="'+(g+5)+'" cy="'+(g+5)+'" r="'+h+'"style="fill: black; fill-opacity:0.6; stroke:none;filter:url(#dropshadow)"/>');for(var u=0,v=d.numPoints;v>u;++u)f+=d.points[u];for(var u=0,v=d.numPoints;v>u;++u)0!==u&&(o=b.lineTo(l,m)),p+=d.points[u]/f,q=2*p*Math.PI,r=Math.sin(q),s=Math.cos(q),l=g-h*s,m=g-h*r,e.pie+='<path title="'+d.points[u]+" ("+b.percent(d.points[u]/f)+')"id="'+d.id+"-point-"+u+'"class="path-of-'+u+' slice" d="'+i+o+j+" "+k+l+","+m+'Z"/>';e.tooltips+='<g><circle class="pie-tooltip"id="'+d.id+"-point-"+u+'-tooltip-rect"style="fill:'+(d.pieTooltipFill||"#fff")+";opacity:"+(d.pieTooltipOpacity||.5)+'"r="'+(d.pieTooltipRadius||60)+'"cx="'+g+'"cy="'+g+'"height="'+(d.donutCenterRadius||g/2)+'"width="'+(d.donutCenterRadius||g/2)+'"/>';for(var u=0;v>u;++u)e.tooltips+='<text class="SVG-tooltip"id="'+d.id+"-point-"+u+'-tooltip" x="'+(t+n/2)+'" y="'+(t+g/4+n)+'">'+d.points[u]+" ("+b.percent(d.points[u]/f)+")</text>",e.tooltips+='<text class="SVG-tooltip-title"style="display:none;font-weight:bold;font-size:30px;"id="'+d.id+"-point-"+u+'-tooltip-title" x="'+(t+n)+'" y="'+(t+g/8)+'">'+d.dataNames[u]+"</text></g>";if("donut"===d.special&&(e.middle='<g><circle class="middle"cx="'+g+'" cy="'+g+'" r="'+(d.donutCenterRadius||g/2)+'"/>'),d.dataNames)for(var u=0,v=d.dataNames.length;v>u;++u)d.dataNames[u]+=" : "+d.points[u]+" ("+b.percent(d.points[u]/f)+")";this.finishGraph(0,0,e,c),a('svg path[id^="'+d.id+'"].slice').eq(2).mouseover()}},c}(jQuery);!function(a){a.fn.graphify=a.fn.graphify||function(b){b=b||{};var d,h,i,c=a.extend({height:this.css("height"),width:this.css("width"),start:"linear",pos:"top",obj:{}},b),e=c.obj,f=e.id,g=new Graph(0),j={};d=a.isArray(e.points[0])?["linear","area","bar","combo","table"]:["linear","area","bar","pie","donut","table"];var k=this.attr("id")+"-wrapper";this.append('<div id="'+k+'"><div id="'+k+'-g-area"></div></div>'),e.attachTo=k+"-g-area";var l=function(){for(var a="",b=0,c=d.length;c>b;++b)a+='<button id="'+f+"-graphify-button-"+d[b]+'">'+d[b].charAt(0).toUpperCase()+d[b].substring(1)+"</button>&emsp;";return a}();"top"===c.pos&&a("#"+k).prepend(l+"<br/><br />");var m=c.start;"area"!==m&&"combo"!==m&&"donut"!==m?h=new(window[g.genToFunc(m)])(e):(e.special=m,h=new(window[g.genToFunc(m)])(e)),h.init(),"bottom"===c.pos&&this.append(l),a(document).on("click",'button[id^="'+f+'-graphify-button-"]',function(){var b=a(this).attr("id").split("-")[3];if(j.hasOwnProperty(b))a("#"+k+"-g-area").html(j[b]);else{if("area"!==b&&"combo"!==b&&"donut"!==b)e.special=!1,h.to(b,e);else switch(e.special=b,b){case"area":h.to("linear",e);break;case"combo":h.to("bar",e);break;case"donut":h.to("pie",e)}i=new XMLSerializer,j[b]=i.serializeToString(document.getElementById(e.id))}e.type=b})}}(jQuery);